<!DOCTYPE html>
<html  >
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/3dpc-circle-gradient.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>Home</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/parallax/jarallax.css">
  <link rel="stylesheet" href="assets/animatecss/animate.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=kYJDSI"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=kYJDSI" type="text/css">

  
  
  
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu1 cid-uEiCgQbyLP" once="menu" id="menu01-25">
	

	<nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
		<div class="container">
			<div class="navbar-brand">
				<span class="navbar-logo">
					<a href="index.html">
						<img src="assets/images/purdue-3dpc-logo-white-text.png" alt="3DPC Logo" style="height: 3.4rem;">
					</a>
				</span>
				
			</div>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<div class="hamburger">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true"><li class="nav-item">
						<a class="nav-link link text-danger text-primary display-4" href="index.html">Home<br></a>
					</li><li class="nav-item"><a class="nav-link link text-danger text-primary display-4" href="about.html">About</a></li><li class="nav-item"><a class="nav-link link text-danger text-primary display-4" href="support.html">How to Print<br></a></li>
					<li class="nav-item">
						<a class="nav-link link text-danger text-primary display-4" href="schedule.html" aria-expanded="false">Schedule</a>
					</li><li class="nav-item"><a class="nav-link link text-danger text-primary display-4" href="gallery.html">Gallery</a></li></ul>
				
				
			</div>
		</div>
	</nav>
</section>

<section data-bs-version="5.1" class="header09 cid-u1RU1ZaH9t mbr-fullscreen" id="header09-2b">
	
	
	<div class="container">
		<div class="row">
			<div class="content-wrap col-12 col-md-8">
				<h1 class="mbr-section-title mbr-fonts-style mbr-white mb-4 display-1"><strong>Think. Design. Create.</strong></h1>
				
				<p class="mbr-fonts-style mbr-text mbr-white mb-4 display-7">The best resource for Student 3D Printing at Purdue</p>
				<div class="mbr-section-btn"><a class="btn btn-danger display-7" href="support.html">How to Print<br></a></div>
			</div>
		</div>
	</div>
</section>

<section class="mbr-section mbr-section--no-padding cid-uCwDlUfOgY mbr-parallax-background" id="witsec-html-block-2k">



<div class="mbr-overlay" style="opacity: 0.6; background-color: rgb(35, 35, 35);">
</div>

<!-- Place your own code below -->
<div class="container">
  <h3 class="mbr-section-title mbr-fonts-style align-center mb-0 display-3"><strong>Upcoming Events</strong></h3>
</div>
<!-- Place your own code above -->

</section>

<section data-bs-version="5.1" class="form5 cid-uCwdf9puIk" id="form02-2j" data-rv-view="337">
    




    <div id="events-wrapper">
    <!--  ########   Event Cards   ######## -->
      <div id="no-events-msg"><h3>No upcoming events! Please check again later.</h3></div>

       

        
</div>

<script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js'
      import { getFirestore, doc, updateDoc, getDoc, onSnapshot,  collection, query, orderBy, limit } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js'
      import { getAuth, signInAnonymously } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';

      const firebaseConfig = {
        apiKey: "AIzaSyCbFmuNBKIXW091uHm--uRxVSETb6Z0470",
        authDomain: "dpc-bot.firebaseapp.com",
        projectId: "dpc-bot",
        storageBucket: "dpc-bot.firebasestorage.app",
        messagingSenderId: "846436118402",
        appId: "1:846436118402:web:faad5d1e4ee3789f00299b"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      const db = getFirestore(app);
      const auth = getAuth(app);

      signInAnonymously(auth)
        .then((userCredential) => {
          console.log('User signed in:', userCredential.user);

          // Create a reference to the "events" collection
        const eventsCollection = collection(db, 'events');
        const eventsQuery = query(eventsCollection, orderBy("date", "asc"));

        // Listen for live updates from the collection
        onSnapshot(eventsQuery, (querySnapshot) => {
          querySnapshot.docChanges().forEach((change) => {
            if (change.type === 'added') {
              let data = change.doc.data()
              console.log('Document added:', data);

              //dynamically render the new element
              createEventCard(data)
            }
            if (change.type === 'removed') {
              console.log('Document removed:', change.doc.data());

            }
            updateNoEventsMessage();
          });
        });

        })
        .catch((error) => {
          console.error('Error signing in:', error.message);
        });

            
    function createEventCard(eventData) {
        const section = document.getElementById('events-wrapper');

        const card = document.createElement('div');
        card.className = 'row justify-content-center event-card';

        // Date
        const dateDiv = document.createElement('div');
        dateDiv.className = 'external-date';
        dateDiv.textContent = eventData['date-str'];
        card.appendChild(dateDiv);

        // Title
        const title = document.createElement('h3');
        title.className = 'event-header display-5 animate__animated animate__delay-1s animate__fadeIn';
        title.setAttribute('mbr-theme-style', 'display-5');
        title.setAttribute('mbr-if', 'showTitle');
        title.setAttribute('data-app-selector', '.mbr-section-title');

        const titleBold = document.createElement('b');
        titleBold.textContent = eventData.title;
        title.appendChild(titleBold);
        card.appendChild(title);

        // Subtitle
        const subtitle = document.createElement('h4');
        subtitle.className = 'event-subtitle';
        subtitle.setAttribute('mbr-theme-style', 'display-7');
        subtitle.setAttribute('mbr-if', 'showSubtitle');
        subtitle.setAttribute('data-app-selector', '.mbr-section-subtitle');

        subtitle.innerHTML = `
            ${eventData.message}<br/><br/>
            <b>Time and Location:</b> ${eventData["time-location"]};
        card.appendChild(subtitle);
        `

        // Map
        const mapWrapper = document.createElement('div');
        mapWrapper.className = 'event-map-wrapper';

        const iframe = document.createElement('iframe');
        iframe.className = 'event-figure col-sm-12';
        iframe.title = 'Event Location';
        iframe.src = eventData['map-embed-link'];

        mapWrapper.appendChild(iframe);
        card.appendChild(mapWrapper);

        section.appendChild(card);
    }

    function updateNoEventsMessage() {
      console.log('updating no events msg')
      const msg = document.getElementById('no-events-msg');
      const section = document.getElementById('events-wrapper');

      const hasCards = section.querySelectorAll('.event-card').length > 0;
      console.log('no events msg: hasCards is ', hasCards)
      msg.style.display = hasCards ? 'none' : 'block';
    }

    </script>
</section>

<section data-bs-version="5.1" class="social4 cid-tVYDLZ7uOQ" id="social04-1o">
    
    
    

    <div class="container">
        <div class="media-container-row">
            <div class="col-12">
                <h3 class="mbr-section-title align-center mb-5 mbr-fonts-style display-2">
                    <strong>Follow us</strong>
                </h3>
                <div class="social-list align-center">
                    
                    <a class="iconfont-wrapper bg-twitter m-2" href="https://twitter.com/purdue3DPC" target="_blank">
                        <span class="socicon-twitter socicon"></span>
                    </a>
                    <a class="iconfont-wrapper bg-instagram m-2" href="https://www.instagram.com/p/CzbmPzRuwI0/" target="_blank">
                        <span class="socicon-instagram socicon"></span>
                    </a>
                    <a class="iconfont-wrapper bg-pinterest m-2" href="mailto:print3d@purdue.edu">
                        <span class="socicon-mail socicon"></span>
                    </a>
                    <a class="iconfont-wrapper bg-slack m-2" href="https://discord.com/invite/emHWMM7f5C" target="_blank">
                        <span class="socicon-discord socicon"></span>
                    </a>
                    
                    
                    
                    
                    <a class="iconfont-wrapper bg-youtube m-2" href="https://www.youtube.com/channel/UCDgDetB-p4vP4WPjRTdMjCg" target="_blank">
                        <span class="socicon-youtube socicon"></span>
                    </a>
                    
                </div>
            </div>
        </div>
    </div>
</section><section><a href="https://mobiri.se"></a><a href="https://mobiri.se"></a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/parallax/jarallax.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/dropdown/js/navbar-dropdown.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
  <input name="animation" type="hidden">
  </body>
</html>